---
title: "å…¥åŠ›åˆæœŸå€¤ã‚’æŒ‡å®šã—ã¦ CtrlP ã‚’èµ·å‹•"
emoji: "ğŸ•"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Vim"]
published: true
---

[ctrlpvim/ctrlp.vim](https://github.com/ctrlpvim/ctrlp.vim) ã§ã¯ `g:ctrlp_default_input` ã‚’è¨­å®šã™ã‚‹ã¨ CtrlP å®Ÿè¡Œæ™‚ã®åˆæœŸå€¤ã¨ã—ã¦ä½¿ç”¨ã§ãã‚‹ã€‚
ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰æŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ä¸‹ã®ã‚ˆã†ã«æ›¸ã„ã¦ã¿ãŸã€‚
`call vimrc#CtrlPDefaultInput('CtrlPLine %', expand('<cword>') .. ' ')` ã¨ã—ã¦ã‚„ã‚‹ã¨ `CtrlPLine` ã‚’å®Ÿè¡Œã—ã¦ã‚«ãƒ¼ã‚½ãƒ«ä¸‹ã®æ–‡å­—åˆ—ãŒå…¥åŠ›ã•ã‚ŒãŸçŠ¶æ…‹ã«ãªã‚‹ã€‚

```vim: ~/vimfiles/autload/vimrc.vim
function! vimrc#CtrlPDefaultInput(cmd, input)
  try
    let l:default_input_save = get(g:, 'ctrlp_default_input', '')
    let g:ctrlp_default_input = a:input
    execute a:cmd
  finally
    if exists('l:default_input_save')
      let g:ctrlp_default_input = l:default_input_save
    endif
  endtry
endfunction
```
