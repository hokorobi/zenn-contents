---
title: "dein.vim ç”¨ã® toml ãƒ•ã‚¡ã‚¤ãƒ«ã§ Vim script ã‚’å¿«é©ã«æ›¸ã"
emoji: "ğŸ™†"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Vim"]
published: true
---

## 2022-12-25 è¿½è¨˜

ã“ã‚Œãªã‚‰ context_filetype.vim ã§ã†ã¾ã„ã“ã¨ã§ããã†ãªã®ã§ä½¿ã‚ã›ã¦ã‚‚ã‚‰ã†ã€‚
`[plugins.ftplugin]` ã®æ›¸ãæ–¹ã¯ã™ãå¿˜ã‚Œã¦ã—ã¾ã†ãªã€‚

https://github.com/4513ECHO/dotfiles/blob/9e043064780a15f8926faeba42b49f8f4358a102/config/nvim/dein/plugin.toml#L569-L598

https://github.com/4513ECHO/dotfiles/blob/9e043064780a15f8926faeba42b49f8f4358a102/config/nvim/dein/plugin.toml#L456-L472


## å…ƒè¨˜äº‹

vim-jp Slack ã§ partedit ã‚’ä½¿ã†ã¨è‰¯ã•ãã†ãªè©±ãŒå‡ºã¦ã„ãŸã®ã§ã€ã“ã‚“ãªæ„Ÿã˜ã§è¨­å®šã—ã¦ä½¿ã£ã¦ã¿ã¦ã„ã‚‹ã€‚
ã ã„ãŸã„ã„ã„æ„Ÿã˜ã€‚
context_filetype.vim ã‚‚è©¦ã—ã¦ã¿ãŸã‘ã‚Œã©ã€ãŸã¾ã« Vim script ã‚¾ãƒ¼ãƒ³ã«å…¥ã£ã¦ã„ã¦ã‚‚åˆ¤å®šãŒã•ã‚Œãªã‹ã£ãŸã‚Šã—ãŸã®ã§ã€ä¸€ç•ªæµ…ã„ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã®è¡Œã«ç§»å‹•ã—ã¦ `<Space>i` ã§ partedit ã«å…¥ã£ã¦ã„ã‚‹ã€‚

```toml: plugins.toml

[[plugins]]
repo = 'thinca/vim-partedit'
on_func = 'partedit#'
hook_add = '''
  " depends kana/vim-textobj-indent
  nmap <Leader>i vai;ParteditCodeblock<CR>

  command! -range ParteditCodeblock call s:partedit_code_block(<line1>, <line2>)
  function! s:partedit_code_block(line1, line2)
    let line_codeblock_start = getline(a:line1 - 1)
    call partedit#start(a:line1, a:line2)

    nnoremap <buffer> qq <Cmd>ParteditEnd<CR>
  endfunction

  autocmd vimrc FileType toml let b:partedit_filetype = 'vim'
'''

[[plugins]]
repo = 'kana/vim-textobj-indent'
depends = 'vim-textobj-user'
on_map = {ox = ['ii', 'ai', 'iI']}

[[plugins]]
repo = 'kana/vim-textobj-user'
```
