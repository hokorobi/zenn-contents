---
title: "Vim ã§ IME ã‚’ã„ã„æ„Ÿã˜ã«ä½¿ã†"
emoji: "ğŸ˜€"
type: "tech"
topics: [Vim]
published: true
---
## æ¦‚è¦

Vim ã§æœŸå¾…ã—ãªã„ IME ã®ã‚ªãƒ³ã€ã‚ªãƒ•ã‚’é¿ã‘ã‚‹ãŸã‚ã®è¨­å®šã€‚
[vim-jp Slack](https://vim-jp.org/docs/chat.html) ã§è³ªå•ã—ã¦ã€ç¾çŠ¶ã“ã®ã‚ˆã†ã«ãªã£ãŸã€‚

## å±¥æ­´
- 2025-08-16
  - [Qiita ã®è¨˜äº‹](https://qiita.com/hokorobi/items/824f3b2b752e6e8532cf) ã‚’ Zenn ã§æ›´æ–°
  - ã‚¤ãƒ³ã‚µãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰ `<C-c>` ã§æŠœã‘ã‚‹ã¨ `InsertLeave` ãŒç™ºç«ã—ãªã„ã¨ã„ã†ã“ã¨ãªã®ã§ `ModeChanged` ã‚’ä½¿ã†ã‚ˆã†ã«å¤‰æ›´ã€‚

## ç’°å¢ƒ

* Vim: [gvim 9.1.1634](https://github.com/vim/vim-win32-installer/releases/tag/v9.1.1634)
* Windows 11 24H2

## è¨­å®š

[å‹•ä½œ](#å‹•ä½œ) ã«ãªã‚‹ã‚ˆã†ãªè¨­å®šã‚’ vimrc ã¸è¨˜è¼‰ã€‚

```vim
" ã‚¤ãƒ³ã‚µãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰æŠœã‘ã‚‹ã¨ãã«IMEã®çŠ¶æ…‹ã‚’ä¿æŒã—ã¦ã€IMEã¯ã‚ªãƒ•
let s:lastiminsert = 0
autocmd vimrc ModeChanged i*:* let s:lastiminsert = &iminsert | setlocal iminsert=0
" ç½®æ›ãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰æŠœã‘ã‚‹ã¨ãã¯IMEã®çŠ¶æ…‹ã‚’ä¿æŒã—ãªã„ã€‚
autocmd vimrc ModeChanged R*:* setlocal iminsert=0
" ã‚¤ãƒ³ã‚µãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã«å…¥ã‚‹ã¨ãã«IMEã®çŠ¶æ…‹ã‚’åæ˜ 
autocmd vimrc ModeChanged *:i* let &l:iminsert = s:lastiminsert
```

## å‹•ä½œ

```
å‡¡ä¾‹ï¼š
- IME ONï¼šèƒŒæ™¯è‰² Lime
- ãƒã‚¤ãƒ³ãƒˆã®çŠ¶æ…‹ï¼šæ–‡å­—è‰² èµ¤
```

1. IME ãŒã‚ªãƒ³ã®çŠ¶æ…‹ã®æŒ¿å…¥ãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰ãƒãƒ¼ãƒãƒ«ãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã£ã¦ã€å†åº¦æŒ¿å…¥ãƒ¢ãƒ¼ãƒ‰ã«å…¥ã£ãŸã‚‰ IME ã¯ã‚ªãƒ³ã®ã¾ã¾

    ![](/images/qiita-20200603-824f3b2b752e6e8532cf_01.png)


2. IME ãŒã‚ªãƒ³ã®çŠ¶æ…‹ã®æŒ¿å…¥ãƒ¢ãƒ¼ãƒ‰ã§æ”¹è¡Œã—ã¦ã‚‚ IME ã‚ªãƒ³ã®ã¾ã¾

    ![](/images/qiita-20200603-824f3b2b752e6e8532cf_02.png)
    ![](/images/qiita-20200603-824f3b2b752e6e8532cf_03.png)


3. 1 æ–‡å­—ç½®æ›ã€ç½®æ›ãƒ¢ãƒ¼ãƒ‰ã«å…¥ã£ãŸã‚‰ IME ã¯ã‚ªãƒ•

    ![](/images/qiita-20200603-824f3b2b752e6e8532cf_04.png)
    ![](/images/qiita-20200603-824f3b2b752e6e8532cf_05.png)


4. ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰ã«å…¥ã£ãŸã‚‰ IME ã¯ã‚ªãƒ•

    ![](/images/qiita-20200603-824f3b2b752e6e8532cf_06.png)

