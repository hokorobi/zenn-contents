---
title: "Vim ã§ IME ã‚’ã„ã„æ„Ÿã˜ã«ä½¿ã†"
emoji: "ğŸ˜€"
type: "tech"
topics: [Vim]
published: false
published_at: 2020-06-03 21:47
---
## æ¦‚è¦

Vim ã§æœŸå¾…ã—ãªã„ IME ã®ã‚ªãƒ³ã€ã‚ªãƒ•ã‚’é¿ã‘ã‚‹ãŸã‚ã®è¨­å®šã€‚
[vim-jp Slack](https://vim-jp.org/docs/chat.html) ã§è³ªå•ã—ã¦ã€ç¾çŠ¶ã“ã®ã‚ˆã†ã«ãªã£ãŸã€‚

## ç’°å¢ƒ

* Vim: [gvim 8.2.0884](https://github.com/vim/vim-win32-installer/releases/tag/v8.2.0884)
* Windows 10

## è¨­å®š

[å‹•ä½œ](#å‹•ä½œ) ã«ãªã‚‹ã‚ˆã†ãªè¨­å®šã‚’ vimrc ã¸è¨˜è¼‰ã€‚

```vim
let s:lastiminsert = 0
" IMEã®çŠ¶æ…‹ã‚’ä¿æŒã—ã¦ãŠãã€ç½®æ›ãƒ¢ãƒ¼ãƒ‰ã§ã¯IMEã®çŠ¶æ…‹ã‚’ä¿æŒã—ãªã„
" ç½®æ›ãƒ¢ãƒ¼ãƒ‰ã§ã¯IMEã®çŠ¶æ…‹ã‚’ä¿æŒã—ãªã„ã€‚ç½®æ›ãƒ¢ãƒ¼ãƒ‰ã§ã¯IMEã‚ªãƒ•ãªã®ã§ã€ç½®æ›ãƒ¢ãƒ¼ãƒ‰å¾Œã®æŒ¿å…¥ãƒ¢ãƒ¼ãƒ‰ãŒå¸¸ã«IMEã‚ªãƒ•ã«ãªã‚‹ã“ã¨ã‚’é¿ã‘ã‚‹
autocmd InsertLeave * if v:insertmode !=# 'r' | let s:lastiminsert = &iminsert | set iminsert=0 | endif
" IMEã®çŠ¶æ…‹ã‚’å¾©å¸°ã™ã‚‹ã€‚æ”¹è¡Œæ™‚ã«ã¯ç¶šã‘ã¦IMEã‚ªãƒ³ã®ã¾ã¾ã«ã—ãŸã„ãŸã‚ã€‚
" æŒ¿å…¥ãƒ¢ãƒ¼ãƒ‰ï¼ˆIMEã‚ªãƒ³ï¼‰â†’ãƒãƒ¼ãƒãƒ«ãƒ¢ãƒ¼ãƒ‰â†’æŒ¿å…¥ãƒ¢ãƒ¼ãƒ‰ï¼ˆIMEã‚ªãƒ³ï¼‰ ã¨ãªã‚‹ãŒã€‚ã“ã‚Œã¯ã‚€ã—ã‚ã§ããªãã¦ã„ã„
" ç½®æ›ãƒ¢ãƒ¼ãƒ‰ã§ã¯IMEã®çŠ¶æ…‹ã‚’å¾©å¸°ã—ãªã„
autocmd InsertEnter * if v:insertmode ==# 'i' | let &iminsert = s:lastiminsert | endif
```

## å‹•ä½œ

```
å‡¡ä¾‹ï¼š
- IME ONï¼šèƒŒæ™¯è‰² Lime
- ãƒã‚¤ãƒ³ãƒˆã®çŠ¶æ…‹ï¼šæ–‡å­—è‰² èµ¤
```

1. IME ãŒã‚ªãƒ³ã®çŠ¶æ…‹ã®æŒ¿å…¥ãƒ¢ãƒ¼ãƒ‰ã‹ã‚‰ãƒãƒ¼ãƒãƒ«ãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã£ã¦ã€å†åº¦æŒ¿å…¥ãƒ¢ãƒ¼ãƒ‰ã«å…¥ã£ãŸã‚‰ IME ã¯ã‚ªãƒ³ã®ã¾ã¾

    ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/24711/a1b3428b-8a56-c477-7edf-22bf463e3922.png)


2. IME ãŒã‚ªãƒ³ã®çŠ¶æ…‹ã®æŒ¿å…¥ãƒ¢ãƒ¼ãƒ‰ã§æ”¹è¡Œã—ã¦ã‚‚ IME ã‚ªãƒ³ã®ã¾ã¾

    ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/24711/503017a5-cf12-da29-390e-285c2c6ba3a8.png)
    ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/24711/7af4ab33-3b5d-ea01-0b2f-95d5d02ef5f8.png)


3. 1 æ–‡å­—ç½®æ›ã€ç½®æ›ãƒ¢ãƒ¼ãƒ‰ã«å…¥ã£ãŸã‚‰ IME ã¯ã‚ªãƒ•

    ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/24711/df26bae0-6b00-ba32-f945-bdaf10771a3d.png)
    ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/24711/c5fd9cd2-f628-ec4e-4b6e-bd27dbfbf65d.png)


4. ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰ã«å…¥ã£ãŸã‚‰ IME ã¯ã‚ªãƒ•

    ![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/24711/006809b9-71db-d139-7d9f-0a72575ab012.png)


