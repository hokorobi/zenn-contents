---
title: "voldikss/vim-floaterm ã®å€‹äººçš„ãªè¨­å®š"
emoji: "ğŸ£"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Vim"]
published: true
---

[voldikss/vim-floaterm](https://github.com/voldikss/vim-floaterm) ãŒä¾¿åˆ©ãã†ã ã£ãŸã®ã§ä½¿ã†ãŸã‚ã®è¨­å®šè¿½åŠ ã€‚
[yutkat/dotfiles/vim-floaterm.vim](https://github.com/yutkat/dotfiles/blob/28e8df61c39727fa85d3f289343eb60feffd29d8/.config/nvim/rc/pluginconfig/vim-floaterm.vim) ã‚’å‚è€ƒã«ã•ã›ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚
[Shougo/dein.vim](https://github.com/Shougo/dein.vim) ã§ TOML ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã€ä»¥ä¸‹ã¯ãã®è¨­å®šã€‚

```toml:plugins.toml
[[plugins]]
repo = 'voldikss/vim-floaterm'
on_cmd = 'FloatermNew'
on_func = 'floaterm#'
hook_add = '''
  " exit ã—ã¦ã‚‚ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ãŒæ®‹ã‚‹ã¨é–‰ã˜ãªã„ã¨ã„ã‘ãªã„ã®ã§
  let g:floaterm_autoclose = 1

  nnoremap <expr> <M-t> floaterm#buflist#first() == -1 ? '<Cmd>FloatermNew<CR>' : '<Cmd>FloatermToggle<CR>'
'''
hook_source = '''
  autocmd vimrc User FloatermOpen tnoremap <buffer> <silent> <M-t> <C-\><C-n>:FloatermToggle<CR>
  autocmd vimrc User FloatermOpen tnoremap <buffer> <silent> <C-t> <C-\><C-n>:FloatermNew<CR>
  autocmd vimrc User FloatermOpen tnoremap <buffer> <silent> <C-k> <C-\><C-n>:FloatermPrev<CR>
  autocmd vimrc User FloatermOpen tnoremap <buffer> <silent> <C-j> <C-\><C-n>:FloatermNext<CR>

  autocmd vimrc QuitPre * FloatermKill!
'''

```

`augroup vimrc` ã¯åˆ¥é€”è¨­å®šæ¸ˆã¿ã€‚

```vim:.vimrc
augroup vimrc
  autocmd!
augroup END
```

[sphinx-autobuild](https://pypi.org/project/sphinx-autobuild/) ç”¨ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’èµ·å‹•ã§ãã‚‹ã‚ˆã†ã« [mattn/ctrlp-launcher](https://github.com/mattn/ctrlp-launcher) ã®è¨­å®šã‚‚è¿½åŠ ã€‚

```vim:.ctrlp-launcher
sphinx-autobuild	FloatermNew! sphinx-autobuild.exe %:p:h %:p:h\autobuild --open-browser --ignore .git/* --ignore _build/* --ignore bakgit/* --ignore _image/* --ignore _static/*
```

