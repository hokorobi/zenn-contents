---
title: "Freeplane ã‹ã‚‰ HTML ã‚’ç”»åƒä»˜ãã§å‡ºåŠ›ã™ã‚‹"
emoji: "ğŸ˜€"
type: "tech"
topics: [FreeMind,Freeplane,mindmap]
published: false
published_at: 2015-02-14 21:32
---
è¿½è¨˜: æœ¬ä½“ã«å–ã‚Šè¾¼ã‚“ã§ã‚‚ã‚‰ã£ãŸ [Merge pull request #44 from hokorobi/better-mm2html Â· freeplane/freeplane@737d3d9](https://github.com/freeplane/freeplane/commit/737d3d93c9e5bdf7d60a322fca822ec795773a59)

---

æ™®æ®µä½œæ¥­è¨˜éŒ²ãªã© Freeplane ã‚’ä½¿ã£ã¦ã€ã“ã‚“ãªæ„Ÿã˜ã§ã¨ã£ã¦ã„ã‚‹ã€‚
ç”»é¢ã‚­ãƒ£ãƒ—ãƒãƒ£ã‚‚ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã‹ã‚‰ç›´æ¥è²¼ã‚Šä»˜ã‘ã‚‰ã‚Œã‚‹ã®ã§ä¾¿åˆ©ï¼ˆä¿å­˜ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼‰ã€‚
ä»¥ä¸‹ã¯ serverspec ã‚’è©¦ã—ãŸæ™‚ã®ã‚‚ã®ã€‚

![DIB BITMAP.png](https://qiita-image-store.s3.amazonaws.com/0/24711/17e097a5-34c4-b50a-ae93-5833cc19c9fe.png)

Freeplane ã‚’ä½¿ã‚ãªã„äººã¨ã‚‚æƒ…å ±ã‚’å…±æœ‰ã§ããŸã‚‰ã„ã„ãªã¨æ€ã£ã¦ã€HTMLã§å‡ºåŠ›ã—ã¦ã¿ã¦ã‚‚ç”»åƒã¯å‡ºåŠ›ã•ã‚Œãªã‹ã£ãŸã€‚
ã¨ã„ã†ã“ã¨ã§ XSLT ã«å°‘ã—æ‰‹ã‚’åŠ ãˆã¦ç”»åƒã‚‚å‡ºåŠ›ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã¿ãŸã€‚
å‡ºæ¥ä¸ŠãŒã£ãŸ HTML ã¯ã“ã‚“ãªæ„Ÿã˜ã§è¡¨ç¤ºã•ã‚Œã‚‹ã€‚

![DIB BITMAP-1.png](https://qiita-image-store.s3.amazonaws.com/0/24711/b73e0807-62ed-8f62-6800-8e390d6820bf.png)

## ä½¿ã„æ–¹
Freeplane ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ•ã‚©ãƒ«ãƒ€ã® resources/xslt ã¸ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ã€‚
Freeplane ãŒèµ·å‹•ä¸­ãªã‚‰å†èµ·å‹•ã—ã¦ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ãŸå¾Œã«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€Œãƒ•ã‚¡ã‚¤ãƒ« - ãƒãƒƒãƒ—ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã€ã€‚
ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¿ã‚¤ãƒ—ã§ã€ŒHTML with image (.htm, .html)ã€ã‚’é¸æŠã—ã¦ä¿å­˜ã€‚

```xslt:mm2html2.xsl
<?xml version="1.0" encoding="UTF-8" ?>

<!--
    MINDMAPEXPORTFILTER html;htm HTML with image

    : This code released under the GPL.
    : (http://www.gnu.org/copyleft/gpl.html) Document : mindmap2html.xsl
    Created on : 01 February 2004, 17:17 Author : joerg feuerhake
    joerg.feuerhake@free-penguin.org Description: transforms freeplane mm
    format to html, handles crossrefs font declarations and colors. feel
    free to customize it while leaving the ancient authors mentioned.
    thank you ChangeLog: See: http://freeplane.sourceforge.net/
  -->

<xsl:stylesheet version="1.0"
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="html" indent="no" encoding="ISO-8859-1" />

  <xsl:template match="/">
    <xsl:variable name="mapversion" select="map/@version" />

    <html>
      <head>
        <title><xsl:value-of select="map/node/@TEXT"/>//mm2html.xsl FreeplaneVersion:<xsl:value-of select="$mapversion"/></title>
        <style>
          body{
          font-size:10pt;
          color:rgb(0,0,0);
          backgound-color:rgb(255,255,255);
          font-family:sans-serif;
          }
          p.info{
          font-size:8pt;
          text-align:right;
          color:rgb(127,127,127);
          }
        </style>
      </head>
      <body>

        <xsl:apply-templates/>

        <p class="info">
          <xsl:value-of select="map/node/@TEXT"/>//mm2html.xsl FreeplaneVersion:<xsl:value-of select="$mapversion"/>
        </p>
      </body>
    </html>
  </xsl:template>

  <xsl:template match="map_styles">
  </xsl:template>

  <xsl:template match="node">

    <xsl:variable name="lcletters">abcdefghijklmnopqrstuvwxyz</xsl:variable>
    <xsl:variable name="ucletters">ABCDEFGHIJKLMNOPQRSTUVWXYZ</xsl:variable>
    <xsl:variable name="nodetext" select="@TEXT"/>
    <xsl:variable name="thisid" select="@ID"/>
    <xsl:variable name="thiscolor" select="@COLOR"/>
    <xsl:variable name="fontface" select="font/@NAME"/>
    <xsl:variable name="fontbold" select="font/@BOLD"/>
    <xsl:variable name="fontitalic" select="font/@ITALIC"/>
    <xsl:variable name="fontsize" select="font/@SIZE"/>
    <xsl:variable name="target" select="arrowlink/@DESTINATION"/>

    <ul>
      <li>

        <xsl:if test="@ID != ''">
          <a>
            <xsl:attribute name="name">
              <xsl:value-of select="$thisid"/>
            </xsl:attribute>
          </a>
        </xsl:if>

        <xsl:if test="arrowlink/@DESTINATION != ''">
          <a >
            <xsl:attribute name="style">
              <xsl:if test="$thiscolor != ''">
                <xsl:text>color:</xsl:text><xsl:value-of select="$thiscolor"/><xsl:text>;</xsl:text>
              </xsl:if>
              <xsl:if test="$fontface != ''">
                <xsl:text>font-family:</xsl:text><xsl:value-of select="translate($fontface,$ucletters,$lcletters)"/><xsl:text>;</xsl:text>
              </xsl:if>
              <xsl:if test="$fontsize != ''">
                <xsl:text>font-size:</xsl:text><xsl:value-of select="$fontsize"/><xsl:text>;</xsl:text>
              </xsl:if>
              <xsl:if test="$fontbold = 'true'">
                <xsl:text>font-weight:bold;</xsl:text>
              </xsl:if>
              <xsl:if test="$fontitalic = 'true'">
                <xsl:text>font-style:italic;</xsl:text>
              </xsl:if>
            </xsl:attribute>

            <xsl:attribute name="href">
              <xsl:text>#</xsl:text><xsl:value-of select="$target"/>
            </xsl:attribute>

            <xsl:value-of select="$nodetext"/>
          </a>
        </xsl:if>

        <xsl:if test="not(arrowlink/@DESTINATION)">

          <pre>

            <xsl:attribute name="style">
              <xsl:if test="$thiscolor != ''">
                <xsl:text>color:</xsl:text><xsl:value-of select="$thiscolor"/><xsl:text>;</xsl:text>
              </xsl:if>
              <xsl:if test="$fontface != ''">
                <xsl:text>font-family:</xsl:text><xsl:value-of select="translate($fontface,$ucletters,$lcletters)"/><xsl:text>;</xsl:text>
              </xsl:if>
              <xsl:if test="$fontsize != ''">
                <xsl:text>font-size:</xsl:text><xsl:value-of select="$fontsize"/><xsl:text>;</xsl:text>
              </xsl:if>
              <xsl:if test="$fontbold = 'true'">
                <xsl:text>font-weight:bold;</xsl:text>
              </xsl:if>
              <xsl:if test="$fontitalic = 'true'">
                <xsl:text>font-style:italic;</xsl:text>
              </xsl:if>
            </xsl:attribute>
            <xsl:value-of select="$nodetext"/>
        </pre>
        </xsl:if>


        <xsl:apply-templates/>
        <xsl:if test="current()/node/hook/@NAME='ExternalObject'">
          <xsl:call-template name="ExternalObject"></xsl:call-template>
        </xsl:if>

      </li>
    </ul>
  </xsl:template>

  <xsl:template name="ExternalObject">
    <img>
      <xsl:attribute name="src">
        <xsl:value-of select="current()/node/hook/@URI" disable-output-escaping="yes"/>
      </xsl:attribute>
    </img>
  </xsl:template>


</xsl:stylesheet>
```

