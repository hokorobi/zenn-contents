---
title: "vim-sandwich ã¨ãã®å‘¨è¾ºã®è¨­å®š"
emoji: "ğŸ˜€"
type: "tech"
topics: [Vim]
published: false
published_at: 2015-07-27 19:39
---

ã‚ˆã•ã’ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã® [machakann/vim-sandwich](https://github.com/machakann/vim-sandwich) ã‚’ä½¿ã£ã¦ã¿ã¾ã—ãŸã€‚

ä»£ã‚ã‚Šã« vim-textobj-multiblock, vim-operator-surround ã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚
vim-expand-region, [machakann/vim-textobj-delimited](https://github.com/machakann/vim-textobj-delimited) (machakann ã•ã‚“ã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’é ‚ã„ã¦è¨­å®šã§ãã¾ã—ãŸ) ã‚‚ä½¿ã£ã¦ã„ã¾ã™ã€‚

ä»¥ä¸‹ã®ã‚ˆã†ã« # ã«ã‚«ãƒ¼ã‚½ãƒ«ãŒã‚ã£ãŸã¨ãã«ã€Œvadã€ã§ã€Œ, fugaã€ã‚’é¸æŠã§ãã‚‹ã‚ˆã†ã«è¨­å®šã—ã¦ã„ã¾ã™ã€‚
expand-region ã‚’ä½¿ã†ã“ã¨ã§ã€Œ,eeeã€ã§åŒã˜ãã€Œ, fugaã€ã‚’é¸æŠã—ã¾ã™ã€‚

```
hoge, fuga, homu
        #
```

.vimrc ã®æŠœç²‹ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚
NeoBundle ãŒã‚¨ãƒ©ãƒ¼ã¨ãªã‚‰ãªã„é©åˆ‡ãªç®‡æ‰€ã«è¨˜è¼‰ã—ã¦ãã ã•ã„ã€‚

```vim:.vimrcæŠœç²‹1
" neobundle#begin, neobundle#end é–“
NeoBundleLazy 'terryma/vim-expand-region', {
      \   'autoload': {
      \     'mappings': ['<Plug>(expand_region']}}
NeoBundle 'machakann/vim-sandwich'
NeoBundleLazy 'machakann/vim-textobj-delimited', {
      \   'autoload': {'on_source': 'vim-expand-region'}}

```

```vim:.vimrcæŠœç²‹2
" neobundle#end å¾Œ
if neobundle#tap('vim-sandwich')
  nmap s <Nop>
  xmap s <Nop>

  let g:textobj#sandwich#stimeoutlen = 100
  let g:sandwich#recipes = deepcopy(g:sandwich#default_recipes)
  let g:sandwich#recipes += [{'buns' : ['ã€Œ', 'ã€']}]
  let g:sandwich#recipes += [{'buns' : ['ã€', 'ã€‘']}]
  let g:sandwich#recipes += [{'buns' : ['ï¼ˆ', 'ï¼‰']}]
  let g:sandwich#recipes += [{'buns' : ['ã€', 'ã€']}]

  call neobundle#untap()
endif

if neobundle#tap('vim-expand-region')
  " ad: delimited
  " ib: sandwich
  let g:expand_region_text_objects = {
        \ 'iw'  : 0,
        \ 'iW'  : 0,
        \ 'iu'  : 0,
        \ 'ad' : 0,
        \ 'ib'  : 1,
        \ }

  call submode#enter_with('expand-region', 'nv', 'r', ',e', '<Plug>(expand_region_expand)')
  call submode#map('expand-region', 'nv', 'r', 'e', '<Plug>(expand_region_expand)')
  call submode#map('expand-region', 'nv', 'r', 's', '<Plug>(expand_region_shrink)')
  call submode#map('expand-region', 'nv', 'r', 'E', '<Plug>(expand_region_shrink)')

  call neobundle#untap()
endif

if neobundle#tap('vim-textobj-delimited')
  let g:textobj_delimited_patterns = [[', *', '\m\%(, *\)\?\%([^,[\]{}]\+, *\)\+\%([^,[\]{}]\+\)\?']]

  call neobundle#untap()
endif

```

[sandwich.vim ã‚’æ›¸ãã¾ã—ãŸ - æ›¸ã„ãŸã‚‚ã®ãªã©](http://machakann.hatenablog.com/entry/2015/07/25/205921)

