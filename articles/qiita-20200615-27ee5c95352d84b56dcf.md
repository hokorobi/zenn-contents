---
title: "Vim ã§ Git ã‚’ä½¿ã†"
emoji: "ğŸ˜€"
type: "tech"
topics: [Vim,Git]
published: false
published_at: 2020-06-15 15:31
---
# Vim ã§ Git ã‚’ä½¿ã†

[lambdalisue/gina.vim](https://github.com/lambdalisue/gina.vim) ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚

ã¾ã ã¾ã è©¦è¡ŒéŒ¯èª¤ä¸­ã€‚

## ã•ãã£ã¨

- ãƒ­ã‚°è¡¨ç¤º: `<Leader>gl`
- ãƒãƒƒãƒ•ã‚¡ã§ãƒ­ã‚°è¡¨ç¤º: `<Leader>gL`
- diffè¡¨ç¤º: `<Leader>gd`
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º: `<Leader>gs`
- ãƒ–ãƒ©ãƒ³ãƒè¡¨ç¤º: `<Leader>gbb`
- push (ãƒ–ãƒ©ãƒ³ãƒåã«å¿œã˜ã¦ master ã‚’å¤‰æ›´): `<Leader>gp`
- é–‹ã„ã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã€é¸æŠè¡Œã‚’ Github ã§é–‹ã: `<Leader>oG`
- å·®åˆ†ã‹ã‚‰æ¤œç´¢: `<Leader>gg`

```Vim:vimrc
nnoremap <silent> <Leader>gl :!git gl -100<CR>
nnoremap <silent> <Leader>gL :Gina log --graph -100<CR>
nnoremap <silent> <Leader>gd :!git diff<CR>
nnoremap <silent> <Leader>gs :!git status<CR>
nnoremap <Leader>gbb :call popup_atcursor(systemlist('git branch'), #{ moved: "any", border: [], minwidth: &columns/3, minheight: &lines/4 })<CR>
nnoremap <Leader>gp :!git push origin master
nnoremap <Leader>oG :Gina browse :<CR>
xnoremap <Leader>oG :Gina browse :<CR>
nnoremap <Leader>gg :Gina log -p -G""<Left>
```

## å¤‰æ›´å†…å®¹ã‚’å…¨ã‚³ãƒŸãƒƒãƒˆ

- å˜ç´”ãªã‚³ãƒ¡ãƒ³ãƒˆ: `<Leader>gn`
- è©³ç´°ãªã‚³ãƒ¡ãƒ³ãƒˆ:
  1. `<Leader>gu`
  2. `<Leader>gc`

```Vim:vimrc
nnoremap <Leader>gn :!git commit -a -m ""<Left>
nnoremap <silent> <Leader>gu :silent !git add -u<CR>
nnoremap <silent> <Leader>gc :!git commit -v<CR>
```

## å¤‰æ›´å†…å®¹ã®ä¸€éƒ¨ã‚’ã‚³ãƒŸãƒƒãƒˆ

- æ¯”è¼ƒçš„å˜ç´”ãªå ´åˆ
  1. `<Leader>ga`
  2. `<Leader>gc`

```Vim:vimrc
nnoremap <silent> <Leader>ga :call popup_create(term_start(['git', 'add', '-p'], #{ hidden: 1, term_finish: 'close'}), #{ border: [], minwidth: &columns*9/10, minheight: &lines/2 })<CR>
nnoremap <silent> <Leader>gc :!git commit -v<CR>
```

- æ¯”è¼ƒçš„è¤‡é›‘ãªå ´åˆ
  1. `<Leader>gS`
  2. å¯¾è±¡ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ `pp`
  3. å½“è©²ã‚³ãƒŸãƒƒãƒˆã«å–ã‚Šè¾¼ã‚€å¯¾è±¡ã‚’ `dor` ã§åæ˜ ã€ `dol` ã§é™¤å¤–
  4. `:w`
  5. `qt`
  6. `cc`
  7. ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ›¸ã„ã¦ `:wq`
  8. 2. ã‹ã‚‰ã®ç¹°ã‚Šè¿”ã—
  9. `:bdeletle` ã§çµ‚ã‚ã‚Šã€‚

```Vim:vimrc
nnoremap <silent> <Leader>gS :Gina status -s<CR>
call gina#custom#mapping#nmap('status', 'cc', ':<C-u>Gina commit -v --group=status<CR>', {'noremap': 1, 'silent': 1, 'buffer': 1, 'nowait': 1})
nnoremap qt :tabclose<CR>
```

## ç›´å‰ã®ã‚³ãƒŸãƒƒãƒˆã‚’ master ãƒ–ãƒ©ãƒ³ãƒã«ã™ã‚‹

1. ãƒ–ãƒ©ãƒ³ãƒåå¤‰æ›´: `<Leader>gbr`
2. ç›´å‰ã®ã‚³ãƒŸãƒƒãƒˆã®ãƒ–ãƒ©ãƒ³ãƒåã‚’ master ã¸: `<Leader>g-`

```Vim:vimrc
nnoremap <Leader>gbr :!git branch -m<Space>
nnoremap <Leader>g- :!git switch -c master HEAD~<Left><Left><Left><Left><Left><Left>
```

## å±¥æ­´ã‚’è¾¿ã£ã¦å¤‰æ›´å†…å®¹ã‚’ç¢ºèª

1. ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ã¦ `<Leader>bl`
2. `<CR>`, `<BS>` ã§ã‚³ãƒŸãƒƒãƒˆã‚’è¾¿ã£ã¦ `e`, `s` ã§ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
3. `qt` ã§çµ‚ã‚ã‚Šã€‚

```Vim:vimrc
nnoremap <silent> <Leader>gbl :Gina blame<CR>
call gina#custom#mapping#nmap('blame', 's', ':<C-u>Gina show<CR>', {'noremap': 1, 'silent': 1, 'buffer': 1, 'nowait': 1})
call gina#custom#mapping#nmap('blame', 'e', '<Plug>(gina-blame-echo)', {'noremap': 0, 'buffer': 1, 'nowait': 1})
nnoremap qt :tabclose<CR>
```

