---
title: "Vim ã§ howm"
emoji: "ğŸ˜€"
type: "tech"
topics: [Vim,howm]
published: false
published_at: 2017-04-30 17:58
---

## æ¦‚è¦
[qfixhowm](https://sites.google.com/site/fudist/Home/qfixhowm) ã‚’ä½¿ã†ã®ãŒæœ€å–„ã ã‚ã†ã‘ã‚Œã©ã€ä½¿ã‚ãªã„æ©Ÿèƒ½ã‚‚å¤šã„ã®ã§ãƒ¡ãƒ¢æ›¸ãã€æ¤œç´¢ã«ç‰¹åŒ–ã—ã¦ä»–ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä»£ç”¨ã—ã¦ã¿ãŸã€‚

## syntax
[hokorobi/vim-howm-syntax-mini](https://github.com/hokorobi/vim-howm-syntax-mini)
qfixhowm ã‹ã‚‰ä¸€éƒ¨ syntax ã®ã¿ã‚’æŠœãå‡ºã—ã€‚

## æ–°è¦ä½œæˆ
[thinca/vim-template](https://github.com/thinca/vim-template) ã‚’ä½¿ç”¨ã€‚

```vim:template.howm
:% s/<+DATETIME+>/\=strftime('%Y-%m-%d %H:%M')/g
:if search('<+CURSOR+>')
:  normal! "_da>
:endif
= <+CURSOR+>
[<+DATETIME+>]
```

ï¼ˆå®Ÿéš›ã«ã¯ã‚­ãƒ¼ãƒãƒƒãƒ—ã¨é–¢æ•°ã¯åˆ¥ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ã„ã¦ã„ã‚‹ã€‚ï¼‰

```vim
function! vimrc#EditHowmNew(dir) abort
  let dir = a:dir.strftime('/%Y/%m')
  if isdirectory(dir) == 0
    call mkdir(dir, 'p')
  endif
  let file = strftime('/%Y%m%d%H%M%S.howm')
  execute 'edit '.dir.file
  TemplateLoad
  " è¡Œæœ«å°¾è¿½åŠ ã§ã‚¤ãƒ³ã‚µãƒ¼ãƒˆãƒ¢ãƒ¼ãƒ‰ã¸
  startinsert!
endfunction
nnoremap <Leader>,c :call vimrc#EditHowmNew(g:howm_dir)<CR>
```

## ã‚¿ã‚¤ãƒˆãƒ«æ¤œç´¢
[Shougo/denite.nvim](https://github.com/Shougo/denite.nvim) ã‚’ä½¿ç”¨ã€‚

```vim
" 2017-03-30 ç¾åœ¨ã® Denite ã§ã¯ Windows ã§ grep ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æ¸¡ã™ã¨ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹å ´åˆãŒã‚ã‚‹ã®ã§ cd ã™ã‚‹
function! vimrc#DeniteGrepHowm() abort
  execute 'cd '.g:howm_dir
  Denite -resume -buffer-name=denite-howm -cursor-wrap grep:::^=\\s
endfunction
nnoremap <Leader>,, :call vimrc#DeniteGrepHowm()<CR>
```

ã“ã¡ã‚‰ã¯ã‚ã¾ã‚Šä½¿ã£ã¦ãŠã‚‰ãšã€[Paper Plane xUI ã§ peco ã‚’ä½¿ã£ã¦ãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã‚’æ¤œç´¢ - Qiita](http://qiita.com/hokorobi/items/34af38d57af9da6587f9) ã§ãƒ•ã‚¡ã‚¤ãƒ©ãƒ¼ã‹ã‚‰ peco ã‚’ä½¿ã†ã“ã¨ãŒå¤šã„ã€‚peco ã ã¨ migemo ãŒä½¿ãˆã‚‹ã®ã§ã€‚

## æœ€è¿‘é–‹ã„ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ä½¿ã„ãŸã„ã®ã§ CtrlP ã§ãªã [Shougo/neomru.vim](https://github.com/Shougo/neomru.vim) + denite.nvim ã‚’ä½¿ç”¨ã€‚

```vim
nnoremap <Leader>,u :<C-u>Denite file_mru -auto-preview -input=howm<CR>
```

