---
title: "Vim ã¨ git"
emoji: "ğŸ£"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Vim", "Git"]
published: true
---

Vim ä¸Šã§ git ã‚’ä½¿ã†æ™‚ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‹ã‚­ãƒ¼ãƒãƒƒãƒ—ã¨ã‹ãƒ•ãƒ­ãƒ¼ã¨ã‹ã€‚

## ä½¿ç”¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³
- [lambdalisue/gina.vim](https://github.com/lambdalisue/gina.vim)
- [kuuote/gina-preview.vim](https://github.com/kuuote/gina-preview.vim)
- [lambdalisue/gin.vim](https://github.com/lambdalisue/gin.vim)

## ã‚­ãƒ¼ãƒãƒƒãƒ—

`nnoremap qt <Cmd>tabclose<CR>`: ã‚¿ãƒ–ã§é–‹ã„ãŸã‚„ã‚‰ã“ã‚Œã§é–‰ã˜ã‚‹ã€‚

### git status

- `nnoremap <Space>gs <Cmd>!git status -v<CR>`: -v ã§ git add ã—ãŸå†…å®¹ã‚’ç¢ºèªã€‚
- `nnoremap <Space>gS <Cmd>GinaPreview<CR>`: [kuuote/gina-preview.vim](https://github.com/kuuote/gina-preview.vim) ã§ç”»é¢åˆ†å‰²è¡¨ç¤º

### git add
- `nnoremap <Space>gai <Cmd>!git add --interactive<CR>`: ãƒ•ã‚¡ã‚¤ãƒ«å˜ä½ã§ã® add ã¯ã“ã¡ã‚‰ã‚’ä½¿ã†ã€‚
- `nnoremap <Space>gad <Cmd>!git add --patch<CR>`: å¤‰æ›´ç®‡æ‰€å˜ä½ã§ã® add ã¯ã“ã¡ã‚‰ã‚’ä½¿ã†ã€‚ e ã§ã®ç·¨é›†ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹ã¨ãã¯ `:cq` ã‚’ä½¿ã†ã€‚
- `nnoremap <Space>gaD <Cmd>GinPatch ++opener=tabnew %<CR>`: gin.vim ã§å¤‰æ›´ç®‡æ‰€ã”ã¨ã® add ã«ã€‚ `git add --interactive` ã®å­˜åœ¨ã«æ°—ã¥ã„ãŸã®ã§ã€ã¨ã‚Šã‚ãˆãšã„ã‚‰ãªã„ã‹ã‚‚ã€‚
- `nnoremap <Space>gu  <Cmd>silent !git add --update<CR>`: æœ€è¿‘ `git commit --all -v` ã‚’ä½¿ãˆã°ã“ã‚Œã¯ã„ã‚‰ãªã•ãã†ã¨æ°—ã¥ã„ãŸã€‚

### git commit
- `nnoremap <Space>gn  :!git commit --all -v -m ""<Left>`: ä¸€è¡Œã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ã‚µã‚¯ãƒƒã¨ã‚³ãƒŸãƒƒãƒˆã€‚ `-v` ã¯ã‚„ã£ã±ã‚Šã„ã‚‰ãªã„ã‹ãªã€‚
- `nnoremap <Space>gN  <Cmd>!git commit --all -v<CR>`: è©³ç´°ã«ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’æ›¸ãæ™‚ã¯ã“ã¡ã‚‰ã€‚
- `nnoremap <Space>gc  <Cmd>!git commit -v<CR>`: `git add` ãŒçµ‚ã‚ã£ãŸã‚‰ã“ã¡ã‚‰ã€‚
- `nnoremap <Space>gam <Cmd>!git commit --amend<CR>`

### git push
- `nnoremap <Space>gp :!git push origin @`

### git diff
- `nnoremap <Space>gd <Cmd>!git diff<CR>`
- `nnoremap <Space>gD <Cmd>Gina diff --opener=tabnew<CR>`

### others

ã‚ã¨ã§æ›¸ãã‹ã‚‚ã€‚

`nnoremap <Space>gbc :!git switch -c<Space>`
`nnoremap <Space>gbo :Gina compare --opener="tab vsplit" :%<Left><Left>`
`nnoremap <Space>gL  <Cmd>Gina log --all --patch --graph -100<CR>`
`nnoremap <Space>gl  <Cmd>Gina log --all --graph -100 --oneline<CR>`
`nnoremap <Space>gg  :Gina log -p -G""<Left>`
`nnoremap <Space>gbl <Cmd>Gina blame<CR>`

#### master ã«é–“é•ã£ã¦ã‚³ãƒŸãƒƒãƒˆã—ãŸæ™‚ã«å¯¾å‡¦
`nnoremap <Space>gbr :!git branch -m temp`
`nnoremap <Space>g-  :!git switch -c master HEAD~<Left><Left><Left><Left><Left><Left>`
`nnoremap <Space>gr  :!git restore --source=temp .`: `restore` å¾Œã« `git commit -p` ã§éƒ¨åˆ†çš„ã« `add` ã—ã¦ `commit` ã€‚
`nnoremap <Space>gbd :!git branch -D temp`

## ãƒ•ãƒ­ãƒ¼

ç·¨é›† â†’ [add â†’] commit
![30398c5525bf4f.png](https://storage.googleapis.com/zenn-user-upload/f9b5968be015-20230103.png)

