---
title: "plantuml-syntax-test ã‚’ Windows ã§å‹•ã‹ã™"
emoji: "ğŸ‘Œ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Vim", "plantuml"]
published: true
---

PlantUML ã® Vim ã® syntax ãƒ•ã‚¡ã‚¤ãƒ«ã»ã‹ãŒ [aklt/plantuml-syntax](https://github.com/aklt/plantuml-syntax) ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚
[aklt/plantuml-syntax-test](https://github.com/aklt/plantuml-syntax-test) ã¯ plantuml-syntax ã® syntax ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã«ä½œã‚‰ã‚ŒãŸã‚‚ã®ã§ã™ã€‚ï¼ˆç§ãŒ plantuml-syntax ã« PR ã‚’é€ã£ã¦ã„ã‚‹ã¨ãã«ãƒ‡ã‚°ãƒ¬ã‚’ã‹ã¾ã™ã‚ˆã†ãªã“ã¨ãŒã‚ã£ãŸã®ã§ aklt ã•ã‚“ãŒä½œã£ã¦ãã‚Œã¾ã—ãŸã€‚**ã“ã®ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ã¯æ±ç”¨åŒ–ã§ããã†ãªæ°—ãŒã—ã¾ã™ã€‚**ï¼‰
make ã¨ã‹ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ Windows ã§ã®ç’°å¢ƒæ§‹ç¯‰ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚WSL ã‚’ä½¿ãˆã°ç°¡å˜ãªã‚“ã§ã—ã‚‡ã†ãŒæœªã ã«ä½¿ã£ã¦ã„ãªã„ã®ã§â€¦ã€‚

1. MSYS2 ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. ä»¥ä¸‹ã€MSYS2 MINGW64 (C:\msys64\mingw64.exe) ã§å®Ÿè¡Œ
3. `pacman -S mingw-w64-x86_64-nodejs make vim git`
4. `git clone --recursive https://github.com/aklt/plantuml-syntax-test.git`
5. `cd plantuml-syntax-test`
6. `npm install`
7. `npm audit fix --force`
8. plantuml ã‚’å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã« /usr/local/bin ã¸ plantuml ã‚’ä½œæˆã€‚
   `C:\path\to\plantuml.jar` ãŒã‚ã£ã¦ã€`C:\Program Files\Eclipse Adoptium\jre-21.0.4.7-hotspot\bin\java.exe` ãŒã‚ã‚‹å ´åˆã€‚

   ```bash:plantuml
   #!/bin/sh

   /c/Program\ Files/Eclipse\ Adoptium/jre-21.0.4.7-hotspot/bin/java.exe -jar /c/path/to/plantuml.jar $@
   ```
9. `make all -i` ã§ uml é…ä¸‹ã« css ã¨ html ã¨ svg ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã€‚ãã‚Œã‚‰ã‚’çµåˆã—ãŸ index.html ã‚‚å‡ºåŠ›ã•ã‚Œã‚‹ã€‚
   ã“ã‚“ãªæ„Ÿã˜ã® [Test plantuml-syntax](https://hokorobi.github.io/plantuml-syntax-test/) ã€‚
   å¸¸ã«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ uml ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚å«ã‚“ã§ã„ã‚‹ã®ã§ `-i` ãŒãªã„ã¨ make ãŒã‚¨ãƒ©ãƒ¼ã§æ­¢ã¾ã‚Šã¾ã™ã€‚
10. `make dev` ã§ Web ã‚µãƒ¼ãƒã‚‚å‹•ãã‘ã© index.html ã‚’é–‹ãã®ã¨å¤‰ã‚ã‚‰ãªã„ã‚ˆã†ãªï¼Ÿ

plantuml-syntax ã‚’å¤‰æ›´ã—ã¦è©¦ã™å ´åˆã¯ã€`vim/pack/test/opt/plantuml-syntax` ã‚’å…¥ã‚Œæ›¿ãˆã¦ `make clean;make html; make css` ã‚’å®Ÿè¡Œã€‚
ãã‚Œãã‚Œã§ make ã—ãŸ uml é…ä¸‹ã‚’å–ã£ã¦ãŠã„ã¦ã€WinMerge ãªã©ã§ãŠã‹ã—ãªçµæœãŒå‡ºã¦ã„ãªã„ã‹æ¯”è¼ƒã—ã¦ã‚‹ã€‚

Github Actions ã§ gh-pages ã‚’ publish ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã‚Š [plantuml-syntax-test/.github/workflows/publish-gh-pages.yml at master Â· aklt/plantuml-syntax-test](https://github.com/aklt/plantuml-syntax-test/blob/master/.github/workflows/publish-gh-pages.yml) ã€Github Actions ã§ plantuml ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã—ãŸã‚Š [hokorobi/plantuml-github-action: PlantUML Github Action](https://github.com/hokorobi/plantuml-github-action) ã‚‚ã—ã¦ã¿ã¾ã—ãŸã€‚

